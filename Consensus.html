<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Generador Avanzado de Features Gherkin</title>
  <link rel="stylesheet" href="css/styles.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
  <script type="module" src="js/main.js"></script>
</head>
<body>
  <div class="container">
    <h1>Consenso</h1>
    <p style="font-size: 1.1em; color: #555; margin-top: 5px; margin-bottom: 25px;">
      Crea el software correcto de la forma correcta a través del consenso participativo y colaborativo de un grupo de personas para generar características con ejemplos en formato Gherkin. Crea, documenta y descarga tus escenarios de negocio en formato <b>.feature</b> de manera ágil y propositiva.
    </p>
    <div style="display: flex; gap: 5px; align-items: stretch; margin-bottom: 10px;">
      <select id="demoSelector" onchange="cargarDemoSeleccionado()" style="min-width: 250px;">
        <option value="">📋 Selecciona un demo...</option>
        <option value="gestionConocimientos">Gestión de conocimientos</option>
        <option value="inventarios">Inventarios</option>
      </select>
      <input id="buscador" type="text" placeholder="🔍 Buscar por nombre, id, tag, responsable..." oninput="filtrarBusqueda()" />
      <button id="btnLimpiar" onclick="limpiarTodo()">🧹 Limpiar todo</button>
    </div>
    <div style="text-align: center; margin-bottom: 10px;">
      <button onclick="descargarFeatures()">⬇️ Descargar Features</button>
      <button onclick="verPrevisualizacion()">👁️ Ver Previsualización</button>
      <button onclick="guardarTrabajo()">💾 Guardar Trabajo</button>
      <button onclick="descargarEspecificacionTecnicaZip()">⬇️ Descargar Especificación Técnica</button>
      <label for="fileInput" class="file-label">📂 Cargar archivo JSON</label>
      <input id="fileInput" type="file" onchange="cargarTrabajo(this)" style="display:none;" />
      <span id="fileName" style="margin-left:10px; color:#555;"></span>
    </div>
    <label>
      🌟 Visión
      <span class="tooltip-icon" onclick="mostrarModalAyuda('Visión')">❓</span>
    </label>
    <input id="visionGeneral" placeholder="Ej: Ser la plataforma líder en educación digital personalizada..." />
    <div id="objetivos"></div>
    <button onclick="agregarObjetivo()">➕ Añadir Objetivo de Negocio</button>
    <div class="output" id="previsualizacion" style="display: none;">
      <h2>📄 Previsualización</h2>
      <div id="previewContent"></div>
    </div>
  </div>
  <!-- Modal de Ayuda -->
  <div id="modalAyuda" style="display: none;">
    <div class="modal-overlay" onclick="cerrarModalAyuda()"></div>
    <div class="modal-content">
      <h2 id="modalTitulo">🛈 Ayuda</h2>
      <pre id="modalContenido" class="modal-pre"></pre>
      <button onclick="cerrarModalAyuda()">Cerrar</button>
    </div>
  </div>
  
</body>
</html>