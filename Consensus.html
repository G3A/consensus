<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Generador Avanzado de Features Gherkin</title>
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/tour-library/tour.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
  <script type="module" src="js/main.js"></script>
</head>
<body>
  <div class="container">
    <h1>Consenso</h1>
    <p style="font-size: 1.1em; color: #555; margin-top: 5px; margin-bottom: 25px;">
      Crea el software correcto de la forma correcta a travÃ©s del consenso participativo y colaborativo de un grupo de personas para generar caracterÃ­sticas con ejemplos en formato Gherkin. Crea, documenta y descarga tus escenarios de negocio en formato <b>.feature</b> de manera Ã¡gil y propositiva.
    </p>
    <div style="display: flex; gap: 5px; align-items: stretch; margin-bottom: 10px;">
      <select id="demoSelector" onchange="cargarDemoSeleccionado()" style="min-width: 250px;">
        <option value="">ğŸ“‹ Selecciona un demo...</option>
        <option value="gestionConocimientos">GestiÃ³n de conocimientos</option>
        <option value="inventarios">Inventarios</option>
      </select>
      <input id="buscador" type="text" placeholder="ğŸ” Buscar por nombre, id, tag, responsable..." oninput="filtrarBusqueda()" />
      <button id="btnLimpiar" onclick="limpiarTodo()">ğŸ§¹ Limpiar todo</button>
    </div>
    <div style="text-align: center; margin-bottom: 10px;">
      <button onclick="descargarFeatures()">â¬‡ï¸ Descargar Features</button>
      <button onclick="verPrevisualizacion()">ğŸ‘ï¸ Ver PrevisualizaciÃ³n</button>
      <button onclick="guardarTrabajo()">ğŸ’¾ Guardar Trabajo</button>
      <button onclick="descargarEspecificacionTecnicaZip()">â¬‡ï¸ Descargar EspecificaciÃ³n TÃ©cnica</button>
      <label for="fileInput" class="file-label">ğŸ“‚ Cargar archivo JSON</label>
      <input id="fileInput" type="file" onchange="cargarTrabajo(this)" style="display:none;" />
      <span id="fileName" style="margin-left:10px; color:#555;"></span>
    </div>
    <label>
      ğŸŒŸ VisiÃ³n
      <span class="tooltip-icon" onclick="mostrarModalAyuda('VisiÃ³n')">â“</span>
    </label>
    <input id="visionGeneral" placeholder="Ej: Ser la plataforma lÃ­der en educaciÃ³n digital personalizada..." data-tour-step="1" />
    <div id="objetivos"></div>
    <button onclick="agregarObjetivo()">â• AÃ±adir Objetivo de Negocio</button>
    <div class="output" id="previsualizacion" style="display: none;">
      <h2>ğŸ“„ PrevisualizaciÃ³n</h2>
      <div id="previewContent"></div>
    </div>
  </div>
  
  <!-- Modal de Ayuda -->
  <div id="modalAyuda" style="display: none;">
    <div class="modal-overlay" onclick="cerrarModalAyuda()"></div>
    <div class="modal-content">
      <h2 id="modalTitulo">ğŸ›ˆ Ayuda</h2>
      <pre id="modalContenido" class="modal-pre"></pre>
      <button onclick="cerrarModalAyuda()">Cerrar</button>
    </div>
  </div>

  <!-- BotÃ³n para iniciar el tour -->
  <button id="startTour" class="btn-tour">ğŸ¯ Tour Interactivo</button>
  
  <!-- Tooltip del tour -->
  <div id="tourTooltip" class="tour-tooltip">
    <div class="tour-header">
      <span class="tour-step-counter"></span>
      <button class="tour-close">Ã—</button>
    </div>
    <div class="tour-content">
      <h3 class="tour-title"></h3>
      <p class="tour-description"></p>
    </div>
    <div class="tour-footer">
      <button class="tour-btn tour-prev">Anterior</button>
      <button class="tour-btn tour-next">Siguiente</button>
      <button class="tour-btn tour-finish">Finalizar</button>
    </div>
  </div>

  <script src="js/tour-library/tour.js"></script>
  <script src="js/tour-library/tour-advanced.js"></script>
  <script src="js/consensus-tour-validation.js"></script>
  <script src="js/consensus-tour.js"></script>
</body>
</html>